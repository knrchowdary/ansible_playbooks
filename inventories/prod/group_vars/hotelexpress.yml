---
apache_server_token: "ProductOnly"

apache_certificates:
  certificate_file:
    src: files/{{env}}/httpd/ssl.crt/www.hotelexpress.com.crt
    dest: "{{apache_server_root}}/ssl.crt/www.hotelexpress.com.crt"
  certificate_key_file:
    content: !vault |
          $ANSIBLE_VAULT;1.2;AES256;api_prod
          63336463366633623131663436613838303265613133373663666530633932313166333763313261
          3863613133623938616635663339323161376631343266610a376435656132636663663935373636
          35363766323265376234393533653833323237636137326635333236336462616664646534653562
          6536643537623066310a336233643239363766373664343033326434653034356434323866356366
          35623139613066636132363531363461643330663137353431316338633665373234623432666230
          37613833383433353932626666343430633034623830373264643862366163373134643739363930
          39343164306332363265666366643930613664353639356236383936366136613065323863313934
          33623733616563316465316333646265346661666636363363613238346263353863356134326462
          38306361336533623932333163306535316239613234636638363837326264353034323434323561
          64313035323932326331316165336532653232633039366566333135373732653639623631366535
          38333935333531316665616463313931306662623930646564613331623065363666313536356233
          63383837386330303139383532363164366535333839363031393437626432613761343834636365
          32396630383566653239333635373132386639633330626539353432663339383934316664383065
          61633634383835323865613138383839353033313136383535613665383932666137343362383736
          34313530363161376337646231656437373162313433313333613866633566653031373036373164
          32666663366163366364653737343434313839373935336236373664613363623461653463306365
          31356465343830376463613133623165323734346263306637323531636636366137346237613136
          32316638646563646433663661623436356537313937313862353630303432306265363539323534
          63313732666131386539313962333935306261666331316230653536656231313132396362393336
          62313533386432373936623133626538666161613531306431363733306436666633643934343534
          61653935663861376535343038643433626231393233333633613434656532316234653732626431
          37343137396366303263363332333235653339313232333366386361313132303638666266333530
          31373731383533633535346337343063313733623036626635393564636163363165623337376663
          64646131393733636439313930363665666339313631656535373535323739393433633630323736
          62366232383465386232396139353036383430643462303161636638306336393731316663666333
          38306637656137363134663038613762656464393734626362363333356139303731653561313265
          64343565326434396532323862643762633534346534636532356532303036656236353039316130
          30653664646438326431383464333463366362666666323834323337653838303639323164376161
          30333666616237323366616665656630336131336334353761663739376164353864323537343164
          38653561363938343462356234643730306464383639326639313534613637343635343032303137
          35313166363261313533643265396236383333656466326533333636646530613633316236306362
          38366566313333396639376261613531323965313334663632656633653563396634326337346638
          30323132643561316639363064643233353062643935633233363534633934663836346130353034
          61353630306366646265633930646161303931643238396466323937623936336463326363346533
          32663534626161626138666539376135303961613765346232636265326162313133646231373162
          64663064613133373732663438656530636632396632343139613036613236633061326562306133
          64633564666134393338333163393463383138383562306633343434613136336263653630393433
          63623730386563616434313336303633663533393633663265613434363635346430613731643165
          39646532363934666265633831616433393066653161343132626363353862613564636139383237
          62396539656162626264323464326138313932333664323337363863666466333432376435633664
          30636266616462323734613862326634346431306236663039313935366666393366306332643231
          39316635346562323531663466346464663763363535353162366234326534313533386232383736
          34323463393731323566383436366538383732616532646164393030303862393734303963616263
          33366239656134333333336638616235373039363030626439386536356262623964396163646164
          39333766353463343436366132613332623732376533653331353337643136313966303734333965
          39373735356431313530376134343661376439643465343564306635643963643037343835633035
          61626661373231373230383461316438346532356536643530646135666562653862323063353730
          38336430666361633737653637626566643633303162666666626530383466373432346331383431
          36613339356136643232626334646436303537326465306432336433326439656535396633306166
          66636465643161373331373063626433313666666235666462616133653531326333303764666262
          62653233643830643764303963353966613232613137333165333839353862613338333734636265
          34646263376432663662386136633336356630363465356565363032626134623864356261333235
          30653134343338393366373835343065376139633831626161323139356664646165613235393161
          63323038656662393730366431383062613536323665653764613162353932316337393566353337
          64376239643262633166643635363331306461646431383231303464353566653830383736636334
          38353461613631353361346361316661623139613536613438633135343434303634623237383233
          38373038393366393431313935653832646337343137396139323339643933616433306339616632
          33623637316566353133316330316162303639343365626430633934646334306237336663646331
          64626331326562363764383761303061306265613136633033333439333066326236376564613266
          63303735633965343330316465383533306266373462303637633437363264376534343832383435
          35623836353835353432386138663531653230343161666662613635613061333433643534336437
          33643964646336616239636233303563343162613330303262343139613138346636646364613835
          36366631303966623465366264616433303365366532323835393263636465623938396336306266
          62623063313564343433393636633937393335366362343334633063636137666130663530643734
          39393232376330623766653536366538656435326461633864306264636165306530373663636562
          35333938323631303631353033343236323561313961666632616566383531326633386339383134
          30653566383963313933616438363536643137373166616665396133653337383033623531666338
          39373332383438303439353965663363666566383133316130323035386266313934616331353337
          64363432623665373234616233346138616332306365376639383533653064363130386561373338
          64363266643038393636373536623965373339313264313161326463616335666239343130663336
          37393035396235336131333862653261666466323536613063376433346537376361643462396134
          37313538303363386134373234336161666630396131613165393736663363313230663762626132
          61303937643830323863303535613130653965303463643534366433396232393362373863656238
          37343264393466343836346264393135353335313234316361353961383739396333326231383362
          38326562383537336637356435636633323239633435333531643235373066336466383461323334
          39663935663939626132313963653765376262373934313261656437616662396161396237613634
          63363865313233626139396233636439303035343333613963343232636632373063383363626136
          66373232656661373062326463613133623565623765353334316534323934663265653138666466
          63633934626535656538633362363566613864393531666364383038316338306134643566366366
          62623730313761633436623164303261363738616464383036313833653332326338313266333564
          36363839333834636635326630616436646366343730323034353266383930663837393434326461
          33303766346539333062303361386633366236643565663233366639653738623663336135646462
          33343730366336346436653135353261396230346664373963366132303465613536636665653935
          30663431666164633735356636346465303330396539633164393732326665633434373834666330
          31323562653139616266313263393166643236663238346538646438333866663830643630303536
          61666437306535366135353231633533363165633235303339613365346163333764373462303161
          33643635306433386137666138323536396136623031326263326334306539376238346364653131
          66363338366564656532343537623630653334306231396130613462303861373761373261663532
          64336161383965633130363638643566303866636236363635303163626463353830
    dest: "{{apache_server_root}}/ssl.key/www.hotelexpress.com.key"
  certificate_chain_file: 
    src: files/{{env}}/httpd/ssl.crt/www.hotelexpress.com.crt
    dest: "{{apache_server_root}}/ssl.crt/www.hotelexpress.com.ca-bundle.crt"

apache_ssl_override:
  virtual_hosts:
    "_default_:443":
      SSLCertificateFile: "{{ apache_certificates['certificate_file']['dest'] }}"
      SSLCertificateKeyFile: "{{ apache_certificates['certificate_key_file']['dest'] }}"
      SSLCertificateChainFile: "{{ apache_certificates['certificate_chain_file']['dest'] }}"

apache_proxy_override:
  extra:
    ProxyRequests: "Off"
    ProxyErrorOverride: "On"
    ProxyTimeout: 300
    ProxyBadHeader: Ignore
  proxypass:
    "/errorpages/":  "!"
    "/apierrorpagelogo.png": "!"
    "/": http://{{server_to_proxy[group_names[0]]}}/
  proxypass_reverse: 
    "/": http://{{server_to_proxy[group_names[0]]}}/

apache_proxy_noindex_url: https://{{external_dns_name[group_names[0]]}}.{{ad_domain_name}}/
